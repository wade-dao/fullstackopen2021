(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,t,n){"use strict";n.r(t);var c=n(15),a=n.n(c),r=n(3),o=n(1),i=n(0),u=function(e){var t=e.person,n=e.handleDelete;return Object(i.jsxs)("tr",{children:[Object(i.jsx)("td",{children:t.name}),Object(i.jsx)("td",{children:t.number}),Object(i.jsx)("td",{children:Object(i.jsx)("button",{onClick:function(){return n(t)},children:"delete"})})]})},s=function(e){var t=e.persons,n=e.handleDelete,c=t.map((function(e,t){return Object(i.jsx)(u,{person:e,handleDelete:n},e.id)}));return Object(i.jsx)("table",{children:Object(i.jsx)("tbody",{children:c})})},d=function(e){var t=e.persons,n=e.handleDelete;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Numbers"}),Object(i.jsx)(s,{persons:t,handleDelete:n})]})},l=function(e){var t=e.search,n=e.handleSearchChange;return Object(i.jsx)("div",{children:Object(i.jsxs)("div",{children:["filter shown with ",Object(i.jsx)("input",{onChange:n,value:t})]})})},j=function(e){var t=e.addNewPerson,n=e.handleNameChange,c=e.newName,a=e.handleNumberChange,r=e.newNumber;return Object(i.jsxs)("div",{children:[Object(i.jsx)("h3",{children:"Add a new"}),Object(i.jsxs)("form",{onSubmit:t,children:[Object(i.jsxs)("div",{children:["name: ",Object(i.jsx)("input",{onChange:n,value:c})]}),Object(i.jsxs)("div",{children:["number: ",Object(i.jsx)("input",{onChange:a,value:r})]}),Object(i.jsx)("div",{children:Object(i.jsx)("button",{type:"submit",children:"add"})})]})]})},b=n(6),h=function(e){var t=e.message,n={fontSize:20,background:"lightgrey",borderStyle:"solid",borderRadius:5,padding:10,marginBottom:10},c=Object(b.a)({},n);c.color="green";var a=Object(b.a)({},n);return a.color="red",null===t.content||""===t.content?null:Object(i.jsx)("div",{style:t.type?c:a,children:t.content})},O=n(4),f=n.n(O),m="/api/persons",v={getAll:function(){return f.a.get(m)},create:function(e){return f.a.post(m,e)},update:function(e,t){return f.a.put("".concat(m,"/").concat(e),t)},deletePerson:function(e){return f.a.delete("".concat(m,"/").concat(e))}},x=function(){var e=Object(o.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],a=Object(o.useState)(""),u=Object(r.a)(a,2),s=u[0],b=u[1],O=Object(o.useState)(""),f=Object(r.a)(O,2),m=f[0],x=f[1],p=Object(o.useState)(""),g=Object(r.a)(p,2),w=g[0],y=g[1],C=Object(o.useState)([]),N=Object(r.a)(C,2),S=N[0],D=N[1],k=Object(o.useState)({content:"",type:!0}),P=Object(r.a)(k,2),A=P[0],L=P[1];Object(o.useEffect)((function(){v.getAll().then((function(e){c(e.data),D(e.data)}))}),[]);return Object(i.jsxs)("div",{children:[Object(i.jsx)("h2",{children:"Phonebook Dev"}),Object(i.jsx)(h,{message:A}),Object(i.jsx)(l,{search:w,handleSearchChange:function(e){if(y(e.target.value),""!==e.target.value){var t=n.filter((function(t){return t.name.toLocaleLowerCase().includes(e.target.value.toLocaleLowerCase())}));D(t)}else D(n)}}),Object(i.jsx)(j,{addNewPerson:function(e){if(e.preventDefault(),""!==s&&""!==m){var t={name:s,number:m},a={content:"",type:!0};if(n.filter((function(e){return e.name===s&&e.number===m?e:null})).length>0){b(""),x(""),L({content:"This entry already exists.",type:!1}),setTimeout((function(){L(a)}),2500)}else v.create(t).then((function(e){c(n.concat(e.data)),b(""),x(""),y(""),D(n.concat(e.data));var t={content:"Added ".concat(e.data.name," - ").concat(e.data.number,"."),type:!0};L(t),setTimeout((function(){L(a)}),3e3)})).catch((function(e){var t={content:"Information about ".concat(e),type:!1};L(t),setTimeout((function(){L(a)}),5e3)}))}},handleNameChange:function(e){b(e.target.value)},newName:s,handleNumberChange:function(e){x(e.target.value)},newNumber:m}),Object(i.jsx)(d,{persons:S,handleDelete:function(e){window.confirm('Delete entry: "'.concat(e.name," - ").concat(e.number,'" ?'))&&v.deletePerson(e.id).then((function(t){var a=n.filter((function(t){return t.id!==e.id}));c(a),b(""),x(""),y(""),D(a)}))}})]})};a.a.render(Object(i.jsx)(x,{}),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.56e87c62.chunk.js.map