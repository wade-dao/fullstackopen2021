{"version":3,"sources":["components/Numbers.js","components/Search.js","components/AddNew.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","Persons","persons","people","map","index","id","Numbers","Search","search","handleSearchChange","onChange","value","AddNew","addNewPerson","handleNameChange","newName","handleNumberChange","newNumber","onSubmit","type","Notification","message","defaultStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","success","color","error","content","style","baseUrl","exportedObject","getAll","axios","get","create","newObject","post","update","put","deletePerson","delete","App","useState","setPersons","setNewName","setNewNumber","setSearch","displays","setDisplays","errorMessage","setErrorMessage","useEffect","personService","then","response","data","event","target","searchResult","filter","toLocaleLowerCase","includes","preventDefault","newPerson","empMsg","length","setTimeout","concat","suc","catch","err","window","confirm","afterDelete","item","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.56e87c62.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, handleDelete}) => {\n  return (\n    <tr>\n      <td>{person.name}</td>\n      <td>{person.number}</td>\n      <td><button onClick={() => handleDelete(person)}>delete</button></td>\n    </tr>\n  )\n}\nconst Persons = ({persons, handleDelete}) => {\n  const people = persons.map((person, index) => <Person key={person.id} person={person} handleDelete={handleDelete}/>)\n  return (\n    <table>\n      <tbody>\n        {people}\n      </tbody>\n    </table>\n  )\n}\n\nconst Numbers = ({persons, handleDelete}) => {\n  return (\n    <div>\n      <h3>Numbers</h3>\n      <Persons persons={persons} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default Numbers","import React from 'react'\n\nconst Search = ({search, handleSearchChange}) => {\n  return (\n    <div>\n      <div>\n        filter shown with <input onChange={handleSearchChange} value={search} />\n      </div>\n    </div> \n  )\n}\nexport default Search","import React from 'react'\n\nconst AddNew = ({addNewPerson, handleNameChange, newName, handleNumberChange, newNumber}) => {\n  return (\n    <div>\n      <h3>Add a new</h3>\n      <form onSubmit={addNewPerson}>\n        <div>\n          name: <input onChange={handleNameChange} value={newName} />\n        </div>\n        <div>\n          number: <input onChange={handleNumberChange} value={newNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\nexport default AddNew","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const defaultStyle = {\n    fontSize: 20,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  \n  let success = {...defaultStyle}\n  success.color = 'green'\n\n  let error = {...defaultStyle}\n  error.color = 'red'\n\n  if (message.content === null || message.content === '') {\n    return null\n  }\n\n  return (\n    <div style={message.type ? success : error}>\n      {message.content}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  deletePerson\n};\n\nexport default exportedObject;","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport Search from './components/Search'\nimport AddNew from './components/AddNew'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons.js'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ displays, setDisplays ]  = useState([])\n  const [ errorMessage, setErrorMessage] = useState({\n    content: '',\n    type: true\n  })\n\n  useEffect(() => {\n    // console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        // console.log('promise fulfilled')\n        setPersons(response.data)\n        setDisplays(response.data)\n      })\n  }, [])\n  // console.log('render', displays.length, 'numbers')\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    if (newName === '' || newNumber === '')\n      return\n    \n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const empMsg = {\n      content: '',\n      type: true\n    }\n\n    const names = persons.filter(person => {\n      if (person.name === newName && person.number === newNumber) {\n        return person\n      }\n      else return null\n    })\n    \n    if (names.length > 0)\n    {\n      const err = {\n        content: `This entry already exists.`,\n        type: false\n      }\n      setNewName('')\n      setNewNumber('')\n      setErrorMessage(err)\n      setTimeout(() => {\n        setErrorMessage(empMsg)\n      }, 2500)\n    }\n    else {\n      personService\n      .create(newPerson)\n      .then(response => {\n        setPersons(persons.concat(response.data))\n        setNewName('')\n        setNewNumber('')\n        setSearch('')\n        setDisplays(persons.concat(response.data))\n        const suc = {\n          content: `Added ${response.data.name} - ${response.data.number}.`,\n          type: true\n        }\n        setErrorMessage(suc)\n        setTimeout(() => {\n          setErrorMessage(empMsg)\n        }, 3000)\n      })\n      .catch(error => {\n        const err = {\n          content: `Information about ${error}`,\n          type: false\n        }\n        setErrorMessage(err)\n        setTimeout(() => {\n          setErrorMessage(empMsg)\n        }, 5000)\n      })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    // console.log(event.target.value)\n    setSearch(event.target.value)\n    if (event.target.value === '')\n    {\n      setDisplays(persons)\n      return\n    }\n\n    const searchResult = persons.filter(person => person.name.toLocaleLowerCase().includes(event.target.value.toLocaleLowerCase()))\n    setDisplays(searchResult)\n  }\n\n  const handleDelete = (person) => {\n    if (window.confirm(`Delete entry: \"${person.name} - ${person.number}\" ?`)) {\n      personService\n        .deletePerson(person.id)\n        .then(response => {\n          const afterDelete = persons.filter((item) => {\n            return item.id !== person.id\n          })\n          setPersons(afterDelete)\n          setNewName('')\n          setNewNumber('')\n          setSearch('')\n          setDisplays(afterDelete)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook Dev</h2>\n      <Notification message={errorMessage} />\n      <Search search={search} handleSearchChange={handleSearchChange} />\n      <AddNew addNewPerson={addNewPerson} handleNameChange={handleNameChange} newName={newName} \n                                          handleNumberChange={handleNumberChange} newNumber={newNumber} />\n      <Numbers persons={displays} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}