{"version":3,"sources":["components/Numbers.js","components/Search.js","components/AddNew.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleDelete","name","number","onClick","id","Persons","persons","people","map","index","Numbers","Search","search","handleSearchChange","onChange","value","AddNew","addNewPerson","handleNameChange","newName","handleNumberChange","newNumber","onSubmit","type","Notification","message","defaultStyle","fontSize","background","borderStyle","borderRadius","padding","marginBottom","success","color","error","content","style","baseUrl","exportedObject","getAll","axios","get","create","newObject","post","update","put","deletePerson","delete","App","useState","setPersons","setNewName","setNewNumber","setSearch","displays","setDisplays","errorMessage","setErrorMessage","useEffect","personService","then","response","data","event","target","searchResult","filter","toLocaleLowerCase","includes","preventDefault","newPerson","empMsg","names","window","confirm","indexOf","newPersons","suc","setTimeout","catch","err","concat","afterDelete","item","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.e87374e4.chunk.js","sourcesContent":["import React from 'react'\n\nconst Person = ({person, handleDelete}) => {\n  return (\n    <tr>\n      <td>{person.name}</td>\n      <td>{person.number}</td>\n      <td><button onClick={() => handleDelete(person.id, person.name)}>delete</button></td>\n    </tr>\n  )\n}\nconst Persons = ({persons, handleDelete}) => {\n  const people = persons.map((person, index) => <Person key={index} person={person} handleDelete={handleDelete}/>)\n  return (\n    <table>\n      <tbody>\n        {people}\n      </tbody>\n    </table>\n  )\n}\n\nconst Numbers = ({persons, handleDelete}) => {\n  return (\n    <div>\n      <h3>Numbers</h3>\n      <Persons persons={persons} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default Numbers","import React from 'react'\n\nconst Search = ({search, handleSearchChange}) => {\n  return (\n    <div>\n      <div>\n        filter shown with <input onChange={handleSearchChange} value={search} />\n      </div>\n    </div> \n  )\n}\nexport default Search","import React from 'react'\n\nconst AddNew = ({addNewPerson, handleNameChange, newName, handleNumberChange, newNumber}) => {\n  return (\n    <div>\n      <h3>Add a new</h3>\n      <form onSubmit={addNewPerson}>\n        <div>\n          name: <input onChange={handleNameChange} value={newName} />\n        </div>\n        <div>\n          number: <input onChange={handleNumberChange} value={newNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\nexport default AddNew","import React from 'react'\n\nconst Notification = ({ message }) => {\n  const defaultStyle = {\n    fontSize: 20,\n    background: 'lightgrey',\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n  \n  let success = {...defaultStyle}\n  success.color = 'green'\n\n  let error = {...defaultStyle}\n  error.color = 'red'\n\n  if (message.content === null || message.content === '') {\n    return null\n  }\n\n  return (\n    <div style={message.type ? success : error}>\n      {message.content}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject)\n}\n\nconst deletePerson = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst exportedObject = {\n  getAll,\n  create,\n  update,\n  deletePerson\n};\n\nexport default exportedObject;","import React, { useState, useEffect } from 'react'\nimport Numbers from './components/Numbers'\nimport Search from './components/Search'\nimport AddNew from './components/AddNew'\nimport Notification from './components/Notification'\n\nimport personService from './services/persons.js'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ displays, setDisplays ]  = useState([])\n  const [ errorMessage, setErrorMessage] = useState({\n    content: '',\n    type: true\n  })\n\n  useEffect(() => {\n    // console.log('effect')\n    personService\n      .getAll()\n      .then(response => {\n        // console.log('promise fulfilled')\n        setPersons(response.data)\n        setDisplays(response.data)\n      })\n  }, [])\n  // console.log('render', displays.length, 'numbers')\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    if (newName === '' || newNumber === '')\n      return\n    \n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    const empMsg = {\n      content: '',\n      type: true\n    }\n\n    const names = persons.map(person => person.name)\n    if (names.includes(newName))\n    {\n      if (window.confirm(newName + \" is already added to the phonebook, replace the old number with a new one? \")) {\n        const index = names.indexOf(newName)\n        const id = persons[index].id\n        personService\n          .update(id, newPerson)\n          .then(response => {\n            // console.log(\"update successful\", response.data)\n            let newPersons = [...persons]\n            newPersons[index].number = response.data.number\n            setPersons(newPersons)\n            setNewName('')\n            setNewNumber('')\n            setSearch('')\n            setDisplays(newPersons)\n            const suc = {\n              content: `Updated ${response.data.name}`,\n              type: true\n            }\n            setErrorMessage(suc)\n            setTimeout(() => {\n              setErrorMessage(empMsg)\n            }, 3000)\n          })\n          .catch(error => {\n            const err = {\n              content: `Information of ${newPerson.name} has already been removed from server.`,\n              type: false\n            }\n            setErrorMessage(err)\n            setTimeout(() => {\n              setErrorMessage(empMsg)\n            }, 5000)\n          })\n      }\n      \n    }\n    else {\n      personService\n        .create(newPerson)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n          setNewName('')\n          setNewNumber('')\n          setSearch('')\n          setDisplays(persons.concat(response.data))\n          const suc = {\n            content: `Added ${response.data.name}`,\n            type: true\n          }\n          setErrorMessage(suc)\n          setTimeout(() => {\n            setErrorMessage(empMsg)\n          }, 3000)\n        })\n        .catch(error => {\n          const err = {\n            content: `Information about ${error}`,\n            type: false\n          }\n          setErrorMessage(err)\n          setTimeout(() => {\n            setErrorMessage(empMsg)\n          }, 5000)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    // console.log(event.target.value)\n    setSearch(event.target.value)\n    if (event.target.value === '')\n    {\n      setDisplays(persons)\n      return\n    }\n\n    const searchResult = persons.filter(person => person.name.toLocaleLowerCase().includes(event.target.value.toLocaleLowerCase()))\n    setDisplays(searchResult)\n  }\n\n  const handleDelete = (id, name) => {\n    if (window.confirm(\"Delete \" + name + \" ?\")) {\n      personService\n        .deletePerson(id)\n        .then(response => {\n          const afterDelete = persons.filter((item) => {\n            return item.id !== id\n          })\n          setPersons(afterDelete)\n          setNewName('')\n          setNewNumber('')\n          setSearch('')\n          setDisplays(afterDelete)\n      })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} />\n      <Search search={search} handleSearchChange={handleSearchChange} />\n      <AddNew addNewPerson={addNewPerson} handleNameChange={handleNameChange} newName={newName} \n                                          handleNumberChange={handleNumberChange} newNumber={newNumber} />\n      <Numbers persons={displays} handleDelete={handleDelete}/>\n    </div>\n  )\n}\n\nexport default App","import ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)"],"sourceRoot":""}